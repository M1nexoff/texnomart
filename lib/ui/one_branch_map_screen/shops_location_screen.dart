import 'dart:async';import 'dart:typed_data';import 'dart:ui';import 'package:flutter/material.dart';import 'package:flutter/material.dart' as a;import 'package:flutter_svg/flutter_svg.dart';import 'package:texnomart/data/source/remote/response/store/store_response.dart';import 'package:yandex_maps_mapkit_lite/mapkit.dart';import 'package:yandex_maps_mapkit_lite/mapkit_factory.dart';import 'package:yandex_maps_mapkit_lite/yandex_map.dart';import 'package:yandex_maps_mapkit_lite/src/bindings/image/image_provider.dart' as img_provider;class ShopsLocationPage extends StatefulWidget {  final Store? data;  const ShopsLocationPage({this.data, super.key});  @override  State<ShopsLocationPage> createState() => _ShopsLocationPageState();}class _ShopsLocationPageState extends State<ShopsLocationPage> {  final mapControllerCompleter = Completer<MapWindow>();  final List<MapObject> mapObjects = [];  // Future<void> _moveToCurrentLocation(double lat, double lon) async {  //   (await mapControllerCompleter.future).map.move(  //     CameraPosition(  //       Point(  //           latitude: lat,  //           longitude: lon,  //         ),  //         zoom: 15, azimuth: 0, tilt: 45,  //       ),  //   );  // }  // Future<Uint8List> svgToPng(String svgString, BuildContext context) async {  //   final pictureInfo =  //       await vg.loadPicture(SvgStringLoader(svgString), context);  //   final image = await pictureInfo.picture.toImage(100, 100);  //   final byteData = await image.toByteData(format: ImageByteFormat.png);  //   if (byteData == null) {  //     throw Exception('Unable to convert SVG to PNG');  //   }  //   final pngBytes = byteData.buffer.asUint8List();  //   return pngBytes;  // }  @override  void initState() {    mapkit.onStart();    // _moveToCurrentLocation(    //     double.parse(widget.data!.lat!), double.parse(widget.data!.long!));    super.initState();  }  @override  Widget build(BuildContext context) {    return Scaffold(        appBar: AppBar(          backgroundColor: Colors.amberAccent,          title: Text("Do'konlar", style: a.TextStyle(fontFamily: 'PaynetB'),),        ),        body: YandexMap(          onMapCreated: (controller) {            mapControllerCompleter.complete(controller);            mapControllerCompleter.future.then((value){              value.map.mapObjects.addPlacemark()..geometry =  Point(              latitude: double.parse(widget.data!.lat!),              longitude: double.parse(widget.data!.long!)              )..setIcon( img_provider.ImageProvider.fromImageProvider(              a.Image.asset('assets/images/btn.png',height: 32,width: 24,).image))..setIconStyle(IconStyle(scale: 0.1));            });            controller.map.move(              CameraPosition(                Point(                  latitude: double.parse(widget.data!.lat!),                  longitude: double.parse(widget.data!.long!),                ),                zoom: 15, azimuth: 0, tilt: 45,              ),            );            mapkit.onStart();          },        ));  }}